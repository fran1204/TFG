<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<!-- Author: fmrodriguez -->
 
<struts>
    <package name="lot" namespace="/" extends="struts-default">
        <action name="crearLote" class="lot.actions.GetCategory">
            <result name="success">crearLote.jsp</result>
            <result name="error">principal3.jsp</result>
        </action>
        <action name="misLotes" class="lot.actions.GetLotesProveedor">
            <result name="success">misLotes.jsp</result>
            <result name="error">principal3.jsp</result>
        </action>
        <action name="addLote" class="lot.actions.AddLote">
            <interceptor-ref name="basicStack"/>
            <interceptor-ref name="fileUpload">
                <param name="allowedTypes">image/jpeg,image/png,image/jpg</param>
                <param name="maximumSize">2097152</param>
                <param name="allowedExtensions">jpeg,png,jpg</param>
            </interceptor-ref>
            <result name="success">principal3.jsp</result>
            <result name="error">crearLote.jsp</result>
            <result name="input">crearLote.jsp</result>
        </action>
        <action name="getLoteUpdate" class="lot.actions.GetLote">
            <result name="success">updateLote.jsp</result>
            <result name="input">updateLote.jsp</result>
            <result name="error">principal3.jsp</result>
        </action>
        <action name="eliminarLote" class="lot.actions.DeleteLote">
            <result type="redirectAction">misLotes</result>
        </action>
        <action name="updateLote" class="lot.actions.UpdateLote">
            <result type="redirectAction">misLotes</result>
        </action>
        <action name="updateFotoLote" class="user.actions.UpdateFotoPerfil">
            <result type="redirectAction">
                <param name="actionName">getUsuario</param>
                <param name="perfil_email">${perfil_email}</param>
            </result>
            <result name="input" type="redirectAction">
                <param name="actionName">getUsuario</param>
                <param name="perfil_email">${perfil_email}</param>
            </result>
        </action>
        <action name="deleteFotoLote" class="user.actions.DeleteFotoPerfil">
            <result type="redirectAction">
                <param name="actionName">getUsuario</param>
                <param name="perfil_email">${perfil_email}</param>
            </result>
        </action>
        <action name="detalleLote" class="lot.actions.GetLoteDetail">
            <result name="success">detalleLote.jsp</result>
            <result name="input">detalleLote.jsp</result>
        </action>
        <action name="adherirse" class="lot.actions.AdherirseLote">
            <result name="success">detalleLote.jsp</result>
            <result name="input">detalleLote.jsp</result>
        </action>
    </package>
</struts>
